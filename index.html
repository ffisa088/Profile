<!DOCTYPE html>
<html>
  <head lang="en">
    <meta charset="UTF-8" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="mobile-web-app-capable" content="yes" />

    <title>Happy Farm</title>

    <link rel="stylesheet" href="app.css" type="text/css" />
    <script src="webfont/1.6.26/webfont.js"></script>
    <script>
      WebFont.load({
        google: {
          families: ["Baloo Bhaina", "Baloo Bhaina"],
        },
      });
    </script>
    <script src="./gamesnacks.js"></script>
    <script src="lib/js/phaser.min.js"></script>
    <!-- <script src="Publisher.js"></script> -->
    <script src="out.js"></script>

    <!-- Include the HTML5 API -->
    <script type="text/javascript">
      // var mode = (RegExp("bm.mode" + "=" + "(.+?)(&|$)").exec(
      //   location.search
      // ) || [, null])[1];

      // var script = document.createElement("script");
      // script.type = "text/javascript";
      // script.setAttribute("id", "booster-api");

      // script.src = "/shared/booster/api.js";

      // // if (mode == "test") {
      // //   script.src = "http://games.bmmob.com/shared/booster/api.js";
      // // } else {
      // //   script.src = "/shared/booster/api.js";
      // // }

      // var s = document.getElementsByTagName("script")[0];
      // s.parentNode.insertBefore(script, s);
    </script>
    <script type="text/javascript">
      game = new src.App();

      const gameOver = function gameOver() {
        GAMESNACKS.gameOver();
      };

      game.state.onStateChange.add(function (newState, oldState) {
        if (newState == "GameArea") {
          window.addEventListener("beforeunload", gameOver, true);
        }

        if (oldState == "GameArea") {
          window.removeEventListener("beforeunload", gameOver, true);
        }
      });

      // GAMESNACKS.subscribeToAudioUpdates((isAudioEnabled) => {
      //   console.log("Audio is now " + isAudioEnabled);
      //   if (isAudioEnabled) {
      //     game.unmuteSounds();
      //   } else {
      //     game.muteSounds();
      //   }
      // });
      // var Booster = window.Booster || {};

      // Booster.ready = function () {
      //   new Booster.Init({
      //     orientation: "portrait",
      //     splash: true,
      //     minimalUI: true,
      //     splashImage: "",
      //   });

      //   // adSense = new Booster.Ad({
      //   //   type: "adsense",
      //   //   size: "300x250",
      //   //   channelID: adChannel,
      //   // });

      //   // community = new Booster.Community({
      //   //   position: 1,
      //   //   gameCode: gameCode,
      //   // });

      //   // analytics = new Booster.Analytics({
      //   //   gameName: gameName,
      //   //   gameId: gameId,
      //   //   gameCategory: gameCategory,
      //   //   developer: developerId,
      //   // });

      //   // moregames = new Booster.Moregames();

      //   Booster.onSplashFinishedEvent = function () {
      //     game = new src.App();
      //   };

      //   Booster.onOpenTab = function () {
      //     // console.log("booster tab open handler");
      //     if (game) game.pauseGame();
      //   };

      //   Booster.onCloseTab = function () {
      //     // console.log("booster tab close handler");
      //     if (game) game.unpauseGame();
      //   };
      // };
    </script>
  </head>
  <body></body>
</html>
